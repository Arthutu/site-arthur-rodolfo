---
import Link from "./Link.astro";
import OpenInNewTabIcon from "./OpenInNewTabIcon.astro";
import Pill from "./Pill.astro";

interface Props {
    role: string;
    company: string;
    companyUrl: string;
    description: string;
    from: string;
    to: string;
    skills: string[];
    showLine?: boolean;
}

const {
    role,
    company,
    companyUrl,
    description,
    from,
    to,
    skills,
    showLine = true,
} = Astro.props;
---

<div class="flex hover:!opacity-100 group-hover/list:opacity-50">
    <header class="flex basis-1/5 flex-col items-center">
        <h6 class="text-xs font-bold text-slate-600 dark:text-slate-400">
            {from} - {to}
        </h6>
        {
            showLine && (
                <hr class="mt-4 h-full w-0.5 border-0 bg-indigo-200 dark:bg-indigo-900" />
            )
        }
    </header>

    <div class="mb-3 basis-4/5">
        <h2 class="mb-3 text-sm">
            <span class="font-bold">{role}</span>

            <Link classes="gap-1 w-fit" href={companyUrl} text={company}>
                <OpenInNewTabIcon />
            </Link>
        </h2>

        <p class="mb-3 text-justify text-sm">
            {description}
        </p>

        <ul class="flex flex-wrap gap-2">
            {
                skills.map((skill) => {
                    return (
                        <li>
                            <Pill text={skill} />
                        </li>
                    );
                })
            }
        </ul>
    </div>
</div>
